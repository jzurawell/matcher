<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="/Users/ted/Downloads/bootstrap/css/bootstrap.min.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery.js"></script>
<script src="/Users/ted/Downloads/bootstrap/js/bootstrap.min.js"></script>
<title>Matcher</title>
</head>

<body>
    <div class="container">
    <h1>Matcher</h1>
    
    <p>Enter an article of clothing or a color.</p>

    <form class="form-horizontal" id="form">
        <div class="input-group">
            <input type="text" class="form-control" id="response">
            <span class="input-group-btn">
                <button type="submit" class="btn btn-default">Submit</button>
            </span>
        </div>
    </form>

    <div id="results-container">
    </div>
    
    <script>
    var outfits = [
        {
            article: "dress",
            length: "long",
            color: "blue",
            type: "feather",
            accessories: [" embossed light blue belt", " gold and blue topaz ring"],
            style: "etherial"
        },  
        {
            article: "jacket",
            length: "long",
            color: "green",
            type: "military",
            accessories: [" white camisole", " red beaded neclace", " black nail polish", " nude heels"],
            style: "utilitarian chic" 
        },
        {
            article: "dress",
            length: "long",
            color: "white",
            type: "silk",
            accessories: [" oxblood lipstick", " oxblood nail polish", " diamond earings", " white clutch", " white heels"],
            style: "1950s"
        },
        {
            article: "jeans",
            length: "long",
            color: "white",
            type: "skinny",
            accessories: [" white crochet top", " brown calfskin sandals", " long gold necklace", " straw bag"],
            style: "straight up '70s. Serge Gainsbourg is calling"
        },
        {
            article: "dress",
            length: "short",
            color: "blue",
            type: "tweed jacquard shift",
            accessories: [" blue chained shoulder bag", " gold ring", " gigantic acetate sunglasses"],
            style: "'60s sporty"
        }
    ]

    function getAnswer() {
        return document.getElementById("response").value;
    }

    function renderMessages(messages) {
        var resultsContainer = document.getElementById("results-container")
        resultsContainer.innerHTML = "";
        messages.forEach(function(message) {
            var p = document.createElement('p');
            p.innerText = message;
            resultsContainer.appendChild(p);
        })
    }

    function processAnswer(userAnswer) {
        var foundItems = [];
        var messages = [];
        outfits.forEach(function(item) {
            if (item.article === userAnswer || item.color === userAnswer) {
                foundItems.push(item);
                messages.push("Wear " + item.length + " " + item.color + " " + item.type + " " + item.article + " with" + item.accessories + ". " + "This style is " + item.style + ".\n");
            }
        })
        if (foundItems.length < 1) {
            messages.push("Sorry, no matches!");
        }
        renderMessages(messages);
    }

    var form = document.getElementById("form");
    form.addEventListener("submit", function(event) {
        event.preventDefault();
        var answer = getAnswer();
        processAnswer(answer);
    });

    // var input = document.getElementById("response");
    // input.addEventListener("keyup", function(event) {
    //     var answer = getAnswer();
    //     processAnswer(answer);
    //     console.log(answer);
    // })
</script>

</div>
</body>
</html>